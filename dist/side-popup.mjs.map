{"version":3,"file":"side-popup.mjs","sources":["../src/options.js","../node_modules/style-inject/dist/style-inject.es.js","../src/functions.js","../src/SubPopup.js","../src/SidePopup.js"],"sourcesContent":["export default {\r\n    backdrop: false,\r\n    attrs: {\r\n        class: 'modal-dialog',\r\n    },\r\n    header: {\r\n        show: true,\r\n        tag: 'div',\r\n        showCloseBtn: true,\r\n        attrs: {\r\n            class: 'modal-header',\r\n        },\r\n    },\r\n    body: {\r\n        show: true,\r\n        tag: 'div',\r\n        attrs: {\r\n            class: 'modal-body',\r\n        },\r\n    },\r\n    footer: {\r\n        show: true,\r\n        tag: 'div',\r\n        attrs: {\r\n            class: 'modal-footer',\r\n        },\r\n    },\r\n    buttons: [{\r\n        html: '确定',\r\n        attrs: {\r\n            class: 'btn btn-primary',\r\n            type: 'button',\r\n        },\r\n    }],\r\n};","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import $ from 'jquery';\r\nimport styles from './styles.css';\r\n\r\n\r\n/**\r\n * 初始化 modal-dialog\r\n * @param {SidePopup|SubPopup} instance\r\n * @returns {jQuery}\r\n */\r\nexport function initDialog(instance) {\r\n    const opts = instance.options;\r\n    const $content = $('<div class=\"modal-content\"></div>');\r\n    if (opts.header.show) {\r\n        $content.append(initHeader(instance));\r\n    }\r\n    if (opts.body.show) {\r\n        $content.append(initBody(opts.body));\r\n    }\r\n    if (opts.footer.show) {\r\n        const $footer = initBody(opts.footer);    // footer 的初始化逻辑与 body 一样\r\n        if (opts.buttons) {\r\n            initButtons($footer, opts.buttons);\r\n        }\r\n        $content.append($footer);\r\n    }\r\n\r\n    const $dialog = $(`<div ${$.map(opts.attrs, (v, k) => `${k}=\"${v}\"`).join(' ')}></div>`);\r\n    if (opts.width) $dialog.css('width', opts.width);\r\n    if (opts.addedClass) $el.addClass(opts.addedClass);\r\n    return $dialog.append($content);\r\n}\r\n\r\n\r\n/**\r\n * 初始化 modal-header\r\n * @param {SubPopup} instance\r\n * @returns {jQuery}\r\n */\r\nfunction initHeader(instance) {\r\n    const opts = instance.options.header;\r\n    const $header = $(`<${opts.tag} ${$.map(opts.attrs, (v, k) => `${k}=\"${v}\"`).join(' ')}></${opts.tag}>`);\r\n    if (opts.showCloseBtn) {\r\n        const $btn = $('<button class=\"close\" type=\"button\">&times;</button>');\r\n        $btn.click(_ => instance.close());\r\n        $header.append($btn);\r\n    }\r\n    if (opts.title) {\r\n        $header.append(`<h4 class=\"modal-title\">${opts.title}</h4>`);\r\n    }\r\n    if (opts.addedClass) $header.addClass(opts.addedClass);\r\n    if (opts.html) $header.append(opts.html);\r\n    return $header;\r\n}\r\n\r\n\r\n/**\r\n * 初始化 modal-body\r\n * @param {object} opts \r\n * @returns {jQuery}\r\n */\r\nfunction initBody(opts) {\r\n    const $el = $(`<${opts.tag} ${$.map(opts.attrs, (v, k) => `${k}=\"${v}\"`).join(' ')}></${opts.tag}>`);\r\n    if (opts.addedClass) $el.addClass(opts.addedClass);\r\n    if (opts.html) $el.append(opts.html);\r\n    return $el;\r\n}\r\n\r\n\r\n/**\r\n * 初始化按钮\r\n * @param {jQuery} $parent 父元素\r\n * @param {object[]} opts \r\n */\r\nfunction initButtons($parent, opts) {\r\n    $.each(opts, (_, item) => {\r\n        const $btn = $(`<button ${$.map(item.attrs, (v, k) => `${k}=\"${v}\"`).join(' ')}></button>`);\r\n        if (item.addedClass) $btn.addClass(item.addedClass);\r\n        if (item.html) $btn.append(item.html);\r\n        if (item.onClick) $btn.click(item.onClick);\r\n        $parent.append($btn);\r\n    });\r\n}\r\n\r\n\r\n/**\r\n * 增加样式\r\n * @param {string} id \r\n */\r\nexport function appendStyles(id) {\r\n    let html = `<style class=\"ID\" type=\"text/css\">${styles}</style>`;\r\n    html = html.replace(/ID/g, id);\r\n    $(document.body).append(html);\r\n}\r\n\r\n\r\n/**\r\n * 初始化 SidePopup\r\n * @param {SidePopup} instance \r\n * @returns {jQuery}\r\n */\r\nexport function initSidePopup(instance) {\r\n    const opts = instance.options;\r\n    const id = instance.constructor.id;\r\n    const $el = $(`<div class=\"modal fade\" tabindex=\"-1\"></div>`);\r\n    $el.addClass(id);\r\n    $el.addClass(opts.type === 'left' ? 'left' : 'right');\r\n    if (opts.backdrop) {\r\n        $el.click(function (event) {\r\n            if (this !== event.target) return;\r\n            if (instance._subPopupList.length) {\r\n                instance.closeSubPopup();\r\n            } else {\r\n                instance.close();\r\n            }\r\n        });\r\n    }\r\n\r\n    const $dialog = initDialog(instance);\r\n    $dialog.data(id, instance); // 挂载组件实例到弹窗上\r\n    return $el.append($dialog);\r\n}\r\n\r\n\r\n/**\r\n * 等待渲染\r\n * @param {function} fn \r\n */\r\nexport function waitForRender(fn) {\r\n    if (Promise) {\r\n        Promise.resolve().then(fn)\r\n    } else {\r\n        setTimeout(fn);\r\n    }\r\n}","import options from './options';\r\nimport {initDialog} from './functions';\r\n\r\n\r\nexport default class SubPopup {\r\n    options;\r\n    element;\r\n\r\n\r\n    constructor(opts) {\r\n        this.options = $.extend(true, {}, options, opts);\r\n        this.element = initDialog(this);\r\n    }\r\n\r\n\r\n    /**\r\n     * 关闭弹窗（从 document 中移除）\r\n     */\r\n    close() {\r\n        this.element.remove();\r\n    }\r\n}","import options from './options';\r\nimport $ from 'jquery';\r\nimport {appendStyles, initSidePopup, waitForRender} from './functions';\r\nimport SubPopup from './SubPopup';\r\n\r\n\r\nexport default class SidePopup {\r\n    static id = 'SIDE_POPUP';\r\n    static defaultOptions = options;\r\n    options;\r\n    element;\r\n    _subPopupList = [];\r\n\r\n\r\n    constructor(opts) {\r\n        if (!$(`style.${SidePopup.id}`).length) {\r\n            appendStyles(SidePopup.id);         // 添加样式\r\n        }\r\n        this.options = $.extend(true, {}, options, opts);\r\n        this.element = initSidePopup(this);\r\n        this.element.appendTo(document.body);\r\n        if (typeof opts.afterRender === 'function') {\r\n            waitForRender(opts.afterRender);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 打开弹窗（插入到 document 中）\r\n     */\r\n    open() {\r\n        this.show();\r\n        this.element.appendTo(document.body);\r\n    }\r\n\r\n\r\n    /**\r\n     * 关闭弹窗（从 document 中移除）\r\n     */\r\n    close() {\r\n        this.element.remove();\r\n    }\r\n\r\n\r\n    /**\r\n     * 显示弹窗\r\n     */\r\n    show() {\r\n        this.element.addClass('in');\r\n    }\r\n\r\n\r\n    /**\r\n     * 隐藏弹窗\r\n     */\r\n    hide() {\r\n        this.element.removeClass('in');\r\n    }\r\n\r\n\r\n    /**\r\n     * 打开子弹窗\r\n     * @param {object} opts \r\n     */\r\n    openSubPopup(opts) {\r\n        const subPopup = new SubPopup(opts);\r\n        this._subPopupList.push(subPopup);\r\n        this.element.append(subPopup.element);\r\n        if (typeof opts.afterRender === 'function') {\r\n            waitForRender(opts.afterRender);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 关闭子弹窗\r\n     */\r\n    closeSubPopup() {\r\n        const subPopup = this._subPopupList.pop();\r\n        if (subPopup) subPopup.close();\r\n    }\r\n\r\n\r\n    /**\r\n     * 打开弹窗\r\n     * @param {string|Element|jQuery|object} param \r\n     * @returns {SidePopup}\r\n     */\r\n    static open(param) {\r\n        let popup;\r\n        if (typeof param === 'string' || param instanceof Element || param instanceof $) {\r\n            popup = $(param).data(SidePopup.id);\r\n        } else if (param instanceof Object) {\r\n            popup = new SidePopup(param);\r\n        } else {\r\n            throw new TypeError('错误的参数类型');\r\n        }\r\n        if (popup) {\r\n            popup.open();\r\n            return popup;\r\n        } else {\r\n            throw new Error('组件对象不存在');\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 关闭弹窗\r\n     * @param {string|Element|jQuery} param \r\n     */\r\n    static close(param) {\r\n        const popup = $(param).data(SidePopup.id);\r\n        if (popup) popup.close();\r\n    }\r\n}\r\n"],"names":["backdrop","attrs","header","show","tag","showCloseBtn","body","footer","buttons","html","type","styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","initDialog","instance","opts","options","$content","$","append","initHeader","initBody","$footer","initButtons","$dialog","map","v","k","join","width","addedClass","$el","addClass","$header","$btn","click","_","close","title","$parent","each","item","onClick","appendStyles","id","styles","replace","initSidePopup","constructor","event","target","_subPopupList","length","closeSubPopup","data","waitForRender","fn","Promise","resolve","then","setTimeout","SubPopup","extend","element","remove","SidePopup","appendTo","afterRender","removeClass","subPopup","push","pop","param","popup","Element","Object","TypeError","open","Error"],"mappings":"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"}