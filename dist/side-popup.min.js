/**
 * Side Popup，基于 Bootstrap 的侧弹窗组件
 * @version 1.0.0
 * @author Ambit Tsai <ambit_tsai@qq.com>
 * @license Apache-2.0
 * @see {@link https://github.com/ambit-tsai/side-popup#readme}
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):(n=n||self).SidePopup=t(n.jQuery)}(this,(function(n){"use strict";function t(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function e(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function o(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}function r(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var a={backdrop:!1,attrs:{class:"modal-dialog"},header:{show:!0,tag:"div",showCloseBtn:!0,attrs:{class:"modal-header"}},body:{show:!0,tag:"div",attrs:{class:"modal-body"}},footer:{show:!0,tag:"div",attrs:{class:"modal-footer"}},buttons:[{html:"确定",attrs:{class:"btn btn-primary",type:"button"}}]};function i(t){var e=t.options,o=n('<div class="modal-content"></div>');if(e.header.show&&o.append(function(t){var e=t.options.header,o=n("<".concat(e.tag," ").concat(n.map(e.attrs,(function(n,t){return"".concat(t,'="').concat(n,'"')})).join(" "),"></").concat(e.tag,">"));if(e.showCloseBtn){var r=n('<button class="close" type="button">&times;</button>');r.click((function(n){return t.close()})),o.append(r)}e.title&&o.append('<h4 class="modal-title">'.concat(e.title,"</h4>"));e.addedClass&&o.addClass(e.addedClass);e.html&&o.append(e.html);return o}(t)),e.body.show&&o.append(s(e.body)),e.footer.show){var r=s(e.footer);e.buttons&&function(t,e){n.each(e,(function(e,o){var r=n("<button ".concat(n.map(o.attrs,(function(n,t){return"".concat(t,'="').concat(n,'"')})).join(" "),"></button>"));o.addedClass&&r.addClass(o.addedClass),o.html&&r.append(o.html),o.onClick&&r.click(o.onClick),t.append(r)}))}(r,e.buttons),o.append(r)}var a=n("<div ".concat(n.map(e.attrs,(function(n,t){return"".concat(t,'="').concat(n,'"')})).join(" "),"></div>"));return e.width&&a.css("width",e.width),e.addedClass&&$el.addClass(e.addedClass),a.append(o)}function s(t){var e=n("<".concat(t.tag," ").concat(n.map(t.attrs,(function(n,t){return"".concat(t,'="').concat(n,'"')})).join(" "),"></").concat(t.tag,">"));return t.addedClass&&e.addClass(t.addedClass),t.html&&e.append(t.html),e}function l(n){Promise?Promise.resolve().then(n):setTimeout(n)}var d=function(){function n(e){t(this,n),r(this,"options",void 0),r(this,"element",void 0),this.options=$.extend(!0,{},a,e),this.element=i(this)}return o(n,[{key:"close",value:function(){this.element.remove()}}]),n}(),c=function(){function e(o){var s,d;t(this,e),r(this,"options",void 0),r(this,"element",void 0),r(this,"_subPopupList",[]),n("style.".concat(e.id)).length||(s=e.id,d=(d='<style class="ID" type="text/css">'.concat("\r\n.ID.modal {\r\n    display: flex;\r\n    background-color: rgba(0,0,0,.5);\r\n    overflow: auto;\r\n}\r\n.ID.right {\r\n    flex-direction: row-reverse;\r\n}\r\n\r\n\r\n.ID.modal > .modal-dialog {\r\n    flex-shrink: 0;\r\n    margin: 0;\r\n}\r\n.ID.left > .modal-dialog {\r\n    transform: translateX(-25%);\r\n    animation: ID--left .5s ease-out;\r\n}\r\n.ID.right > .modal-dialog {\r\n    transform: translateX(25%);\r\n    animation: ID--right .5s ease-out;\r\n}\r\n.ID.in > .modal-dialog {\r\n    transform: translateX(0);\r\n}\r\n.ID.left > .modal-dialog + .modal-dialog {\r\n    margin-left: -5%;\r\n}\r\n.ID.right > .modal-dialog + .modal-dialog {\r\n    margin-right: -5%;\r\n}\r\n.ID > .modal-dialog:nth-last-child(n+2):after {\r\n    content: '';\r\n    display: block;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background-color: rgba(0,0,0,.1);\r\n}\r\n\r\n\r\n.ID > .modal-dialog > .modal-content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%;\r\n}\r\n.ID.left > .modal-dialog > .modal-content {\r\n    border-top-left-radius: 0;\r\n    border-bottom-left-radius: 0;\r\n}\r\n.ID.right > .modal-dialog > .modal-content {\r\n    border-top-right-radius: 0;\r\n    border-bottom-right-radius: 0;\r\n}\r\n\r\n\r\n.ID > .modal-dialog > .modal-content > .modal-body {\r\n    height: 0;\r\n    flex-grow: 1;\r\n    overflow: auto;\r\n}\r\n\r\n\r\n@keyframes ID--left {\r\n    0% {\r\n        transform: translateX(-50%);\r\n    }\r\n    100% {\r\n        transform: translateX(0);\r\n    }\r\n}\r\n@keyframes ID--right {\r\n    0% {\r\n        transform: translateX(50%);\r\n    }\r\n    100% {\r\n        transform: translateX(0);\r\n    }\r\n}\r\n","</style>")).replace(/ID/g,s),n(document.body).append(d)),this.options=n.extend(!0,{},a,o),this.element=function(t){var e=t.options,o=t.constructor.id,r=n('<div class="modal fade" tabindex="-1"></div>');r.addClass(o),r.addClass("left"===e.type?"left":"right"),e.backdrop&&r.click((function(n){this===n.target&&(t._subPopupList.length?t.closeSubPopup():t.close())}));var a=i(t);return a.data(o,t),r.append(a)}(this),this.element.appendTo(document.body),"function"==typeof o.afterRender&&l(o.afterRender)}return o(e,[{key:"open",value:function(){this.show(),this.element.appendTo(document.body)}},{key:"close",value:function(){this.element.remove()}},{key:"show",value:function(){this.element.addClass("in")}},{key:"hide",value:function(){this.element.removeClass("in")}},{key:"openSubPopup",value:function(n){var t=new d(n);this._subPopupList.push(t),this.element.append(t.element),"function"==typeof n.afterRender&&l(n.afterRender)}},{key:"closeSubPopup",value:function(){var n=this._subPopupList.pop();n&&n.close()}}],[{key:"open",value:function(t){var o;if("string"==typeof t||t instanceof Element||t instanceof n)o=n(t).data(e.id);else{if(!(t instanceof Object))throw new TypeError("错误的参数类型");o=new e(t)}if(o)return o.open(),o;throw new Error("组件对象不存在")}},{key:"close",value:function(t){var o=n(t).data(e.id);o&&o.close()}}]),e}();return r(c,"id","SIDE_POPUP"),r(c,"defaultOptions",a),c}));
//# sourceMappingURL=side-popup.min.js.map
