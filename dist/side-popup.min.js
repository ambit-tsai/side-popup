/**
 * side-popup
 * @version 0.0.2
 * @author Ambit Tsai <ambit_tsai@qq.com>
 * @license Apache-2.0
 * @see {@link https://github.com/ambit-tsai/side-popup#readme}
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):(n=n||self).SidePopup=t(n.jQuery)}(this,(function(n){"use strict";function t(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function e(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var r={attrs:{class:"modal fade",tabindex:"-1"},header:{show:!0,tag:"div",showCloseBtn:!0,attrs:{class:"modal-header"}},body:{show:!0,tag:"div",attrs:{class:"modal-body"}},footer:{show:!0,tag:"div",attrs:{class:"modal-footer"}},buttons:[{html:"确定",attrs:{class:"btn btn-primary",type:"button"}}]};function a(t,e){var r=n('<div class="modal-content"></div>');if(t.header.show&&r.append(function(t,e){var r=n("<".concat(t.tag," ").concat(n.map(t.attrs,(function(n,t){return"".concat(t,'="').concat(n,'"')})).join(" "),"></").concat(t.tag,">"));if(t.showCloseBtn){var a=n('<button class="close" type="button">&times;</button>');e?a.click((function(n){return e.close()})):a.click((function(n){r.parent().parent().remove()})),r.append(a)}t.title&&r.append('<h4 class="modal-title">'.concat(t.title,"</h4>"));t.addedClass&&r.addClass(t.addedClass);t.html&&r.append(t.html);return r}(t.header,e)),t.body.show&&r.append(o(t.body)),t.footer.show){var a=o(t.footer);t.buttons&&function(t,e){n.each(e,(function(e,r){var a=n("<button ".concat(n.map(r.attrs,(function(n,t){return"".concat(t,'="').concat(n,'"')})).join(" "),"></button>"));r.addedClass&&a.addClass(r.addedClass),r.html&&a.append(r.html),r.onClick&&a.click(r.onClick),t.append(a)}))}(a,t.buttons),r.append(a)}var l=n('<div class="modal-dialog"></div>').append(r);return t.width&&l.css("width",t.width),l}function o(t){var e=n("<".concat(t.tag," ").concat(n.map(t.attrs,(function(n,t){return"".concat(t,'="').concat(n,'"')})).join(" "),"></").concat(t.tag,">"));return t.addedClass&&e.addClass(t.addedClass),t.html&&e.append(t.html),e}var l=function(){function e(t){var o,l,d;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n("style.".concat(e.id)).length||(o=e.id,l=(l='<style class="ID" type="text/css">'.concat("\r\n.ID.modal {\r\n    display: flex;\r\n    background-color: rgba(0,0,0,.5);\r\n    overflow: auto;\r\n}\r\n.ID.right {\r\n    flex-direction: row-reverse;\r\n}\r\n\r\n\r\n.ID.modal > .modal-dialog {\r\n    flex-shrink: 0;\r\n    margin: 0;\r\n}\r\n.ID.left > .modal-dialog {\r\n    transform: translateX(-25%);\r\n    animation: ID_left .5s ease-out;\r\n}\r\n.ID.right > .modal-dialog {\r\n    transform: translateX(25%);\r\n    animation: ID_right .5s ease-out;\r\n}\r\n.ID.in > .modal-dialog {\r\n    transform: translateX(0);\r\n}\r\n.ID.left > .modal-dialog + .modal-dialog {\r\n    margin-left: -5%;\r\n}\r\n.ID.right > .modal-dialog + .modal-dialog {\r\n    margin-right: -5%;\r\n}\r\n.ID > .modal-dialog:nth-last-child(n+2):after {\r\n    content: '';\r\n    display: block;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background-color: rgba(0,0,0,.1);\r\n}\r\n\r\n\r\n.ID > .modal-dialog > .modal-content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%;\r\n}\r\n.ID.left > .modal-dialog > .modal-content {\r\n    border-top-left-radius: 0;\r\n    border-bottom-left-radius: 0;\r\n}\r\n.ID.right > .modal-dialog > .modal-content {\r\n    border-top-right-radius: 0;\r\n    border-bottom-right-radius: 0;\r\n}\r\n\r\n\r\n.ID > .modal-dialog > .modal-content > .modal-body {\r\n    height: 0;\r\n    flex-grow: 1;\r\n    overflow: auto;\r\n}\r\n\r\n\r\n@keyframes ID_left {\r\n    0% {\r\n        transform: translateX(-50%);\r\n    }\r\n    100% {\r\n        transform: translateX(0);\r\n    }\r\n}\r\n@keyframes ID_right {\r\n    0% {\r\n        transform: translateX(50%);\r\n    }\r\n    100% {\r\n        transform: translateX(0);\r\n    }\r\n}\r\n","</style>")).replace(/ID/g,o),n(document.body).append(l)),this.options=n.extend(!0,{},r,t),this.element=function(t){var e=t.options,r=n("<div ".concat(n.map(e.attrs,(function(n,t){return"".concat(t,'="').concat(n,'"')})).join(" "),"></div>"));return r.addClass(t.constructor.id),r.addClass("left"===e.type?"left":"right"),e.addedClass&&r.addClass(e.addedClass),r.append(a(e,t))}(this),this.element.data(e.id,this),this.element.appendTo(document.body),"function"==typeof t.afterRender&&(d=t.afterRender,Promise?Promise.resolve().then(d):setTimeout(d))}var o,l,d;return o=e,d=[{key:"open",value:function(t){var r;if("string"==typeof t||t instanceof Element||t instanceof n)r=n(t).data(e.id);else{if(!(t instanceof Object))throw new TypeError("错误的参数类型");r=new e(t)}if(r)return r.show(),r;throw new Error("组件对象不存在")}},{key:"close",value:function(t){var r=n(t).data(e.id);r&&r.close()}}],(l=[{key:"open",value:function(){this.show(),this.element.appendTo(document.body)}},{key:"close",value:function(){this.element.remove()}},{key:"show",value:function(){this.element.addClass("in")}},{key:"hide",value:function(){this.element.removeClass("in")}},{key:"openSubPopup",value:function(t){t=n.extend(!0,{},r,t),this.element.append(a(t))}},{key:"closeSubPopup",value:function(){this.element.children(".modal-dialog").not(":first").last().remove()}}])&&t(o.prototype,l),d&&t(o,d),e}();return e(l,"id","SIDE_POPUP"),e(l,"defaultOptions",r),l}));
//# sourceMappingURL=side-popup.min.js.map
