/**
 * Side Popup，基于 Bootstrap 的侧弹窗组件
 * @version 1.1.0
 * @author Ambit Tsai <ambit_tsai@qq.com>
 * @license Apache-2.0
 * @see {@link https://github.com/ambit-tsai/side-popup#readme}
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],n):(t=t||self).SidePopup=n(t.jQuery)}(this,(function(t){"use strict";function n(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var a={backdrop:!1,attrs:{class:"modal-dialog"},header:{show:!0,tag:"div",showCloseBtn:!0,attrs:{class:"modal-header"}},body:{show:!0,tag:"div",attrs:{class:"modal-body"}},footer:{show:!0,tag:"div",attrs:{class:"modal-footer"}},buttons:[{html:"确定",attrs:{class:"btn btn-primary",type:"button"}}]};var i="\r\n.ID.modal {\r\n    display: -webkit-box;\r\n    display: -webkit-flex;\r\n    display: -moz-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    background-color: rgba(0,0,0,.5);\r\n    overflow: auto;\r\n}\r\n.ID.right {\r\n    -webkit-box-orient: horizontal;\r\n    -webkit-box-direction: reverse;\r\n    -webkit-flex-direction: row-reverse;\r\n       -moz-box-orient: horizontal;\r\n       -moz-box-direction: reverse;\r\n        -ms-flex-direction: row-reverse;\r\n            flex-direction: row-reverse;\r\n}\r\n\r\n\r\n.ID.modal > .modal-dialog {\r\n    -webkit-flex-shrink: 0;\r\n        -ms-flex-negative: 0;\r\n            flex-shrink: 0;\r\n    margin: 0;\r\n}\r\n.ID.left > .modal-dialog {\r\n    -webkit-transform: translateX(-25%);\r\n            transform: translateX(-25%);\r\n    -webkit-animation: ID--left .5s ease-out;\r\n            animation: ID--left .5s ease-out;\r\n}\r\n.ID.right > .modal-dialog {\r\n    -webkit-transform: translateX(25%);\r\n            transform: translateX(25%);\r\n    -webkit-animation: ID--right .5s ease-out;\r\n            animation: ID--right .5s ease-out;\r\n}\r\n.ID.in > .modal-dialog {\r\n    -webkit-transform: translateX(0);\r\n            transform: translateX(0);\r\n}\r\n.ID.left > .modal-dialog + .modal-dialog {\r\n    margin-left: -5%;\r\n}\r\n.ID.right > .modal-dialog + .modal-dialog {\r\n    margin-right: -5%;\r\n}\r\n.ID > .modal-dialog:nth-last-child(n+2):after {\r\n    content: '';\r\n    display: block;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background-color: rgba(0,0,0,.1);\r\n}\r\n\r\n\r\n.ID > .modal-dialog > .modal-content {\r\n    display: -webkit-box;\r\n    display: -webkit-flex;\r\n    display: -moz-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-orient: vertical;\r\n    -webkit-box-direction: normal;\r\n    -webkit-flex-direction: column;\r\n       -moz-box-orient: vertical;\r\n       -moz-box-direction: normal;\r\n        -ms-flex-direction: column;\r\n            flex-direction: column;\r\n    height: 100%;\r\n}\r\n.ID.left > .modal-dialog > .modal-content {\r\n    -webkit-border-top-left-radius: 0;\r\n            border-top-left-radius: 0;\r\n    -webkit-border-bottom-left-radius: 0;\r\n            border-bottom-left-radius: 0;\r\n}\r\n.ID.right > .modal-dialog > .modal-content {\r\n    -webkit-border-top-right-radius: 0;\r\n            border-top-right-radius: 0;\r\n    -webkit-border-bottom-right-radius: 0;\r\n            border-bottom-right-radius: 0;\r\n}\r\n\r\n\r\n.ID > .modal-dialog > .modal-content > .modal-body {\r\n    height: 0;\r\n    -webkit-box-flex: 1;\r\n    -webkit-flex-grow: 1;\r\n       -moz-box-flex: 1;\r\n        -ms-flex-positive: 1;\r\n            flex-grow: 1;\r\n    overflow: auto;\r\n}\r\n\r\n\r\n@-webkit-keyframes ID--left {\r\n    0% {\r\n        -webkit-transform: translateX(-50%);\r\n                transform: translateX(-50%);\r\n    }\r\n    100% {\r\n        -webkit-transform: translateX(0);\r\n                transform: translateX(0);\r\n    }\r\n}\r\n\r\n\r\n@keyframes ID--left {\r\n    0% {\r\n        -webkit-transform: translateX(-50%);\r\n                transform: translateX(-50%);\r\n    }\r\n    100% {\r\n        -webkit-transform: translateX(0);\r\n                transform: translateX(0);\r\n    }\r\n}\r\n@-webkit-keyframes ID--right {\r\n    0% {\r\n        -webkit-transform: translateX(50%);\r\n                transform: translateX(50%);\r\n    }\r\n    100% {\r\n        -webkit-transform: translateX(0);\r\n                transform: translateX(0);\r\n    }\r\n}\r\n@keyframes ID--right {\r\n    0% {\r\n        -webkit-transform: translateX(50%);\r\n                transform: translateX(50%);\r\n    }\r\n    100% {\r\n        -webkit-transform: translateX(0);\r\n                transform: translateX(0);\r\n    }\r\n}\r\n";function s(n){var e=n.options,r=t('<div class="modal-content"></div>');if(e.header.show&&r.append(function(n){var e=n.options.header,r=t("<".concat(e.tag," ").concat(t.map(e.attrs,(function(t,n){return"".concat(n,'="').concat(t,'"')})).join(" "),"></").concat(e.tag,">"));if(e.showCloseBtn){var o=t('<button class="close" type="button">&times;</button>');o.click((function(t){return n.close()})),r.append(o)}e.title&&r.append('<h4 class="modal-title">'.concat(e.title,"</h4>"));e.addedClass&&r.addClass(e.addedClass);e.html&&r.append(e.html);return r}(n)),e.body.show&&r.append(l(e.body)),e.footer.show){var o=l(e.footer);e.buttons&&function(n,e){t.each(e,(function(e,r){var o=t("<button ".concat(t.map(r.attrs,(function(t,n){return"".concat(n,'="').concat(t,'"')})).join(" "),"></button>"));r.addedClass&&o.addClass(r.addedClass),r.html&&o.append(r.html),r.onClick&&o.click(r.onClick),n.append(o)}))}(o,e.buttons),r.append(o)}var a=t("<div ".concat(t.map(e.attrs,(function(t,n){return"".concat(n,'="').concat(t,'"')})).join(" "),"></div>"));return e.width&&a.css("width",e.width),e.addedClass&&$el.addClass(e.addedClass),a.append(r)}function l(n){var e=t("<".concat(n.tag," ").concat(t.map(n.attrs,(function(t,n){return"".concat(n,'="').concat(t,'"')})).join(" "),"></").concat(n.tag,">"));return n.addedClass&&e.addClass(n.addedClass),n.html&&e.append(n.html),e}function d(t){Promise?Promise.resolve().then(t):setTimeout(t)}!function(t,n){void 0===n&&(n={});var e=n.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===e&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(i);var c=function(){function t(e){n(this,t),o(this,"options",void 0),o(this,"element",void 0),this.options=$.extend(!0,{},a,e),this.element=s(this)}return r(t,[{key:"close",value:function(){this.element.remove()}}]),t}(),f=function(){function e(r){var l,c;n(this,e),o(this,"options",void 0),o(this,"element",void 0),o(this,"_subPopupList",[]),t("style.".concat(e.id)).length||(l=e.id,c=(c='<style class="ID" type="text/css">'.concat(i,"</style>")).replace(/ID/g,l),t(document.body).append(c)),this.options=t.extend(!0,{},a,r),this.element=function(n){var e=n.options,r=n.constructor.id,o=t('<div class="modal fade" tabindex="-1"></div>');o.addClass(r),o.addClass("left"===e.type?"left":"right"),e.backdrop&&o.click((function(t){this===t.target&&(n._subPopupList.length?n.closeSubPopup():n.close())}));var a=s(n);return a.data(r,n),o.append(a)}(this),this.element.appendTo(document.body),"function"==typeof r.afterRender&&d(r.afterRender)}return r(e,[{key:"open",value:function(){this.show(),this.element.appendTo(document.body)}},{key:"close",value:function(){this.element.remove()}},{key:"show",value:function(){this.element.addClass("in")}},{key:"hide",value:function(){this.element.removeClass("in")}},{key:"openSubPopup",value:function(t){var n=new c(t);this._subPopupList.push(n),this.element.append(n.element),"function"==typeof t.afterRender&&d(t.afterRender)}},{key:"closeSubPopup",value:function(){var t=this._subPopupList.pop();t&&t.close()}}],[{key:"open",value:function(n){var r;if("string"==typeof n||n instanceof Element||n instanceof t)r=t(n).data(e.id);else{if(!(n instanceof Object))throw new TypeError("错误的参数类型");r=new e(n)}if(r)return r.open(),r;throw new Error("组件对象不存在")}},{key:"close",value:function(n){var r=t(n).data(e.id);r&&r.close()}}]),e}();return o(f,"id","SIDE_POPUP"),o(f,"defaultOptions",a),f}));
//# sourceMappingURL=side-popup.min.js.map
